{"version":3,"sources":["redux/reducers/auth.js","services/request.js","services/api.js","redux/sagas/_auth.js","redux/reducers/config.js","redux/sagas/_config.js","redux/sagas/index.js","redux/reducers/map.js","utils/esriHelper.js","components/esri/auth/AuthManager.js","components/LoadScreen.js","components/esri/map/SceneViewExample.js","components/esri/map/Map.js","components/esri/map/Search.js","components/UserAccount.js","components/Main.js","components/App.js","styles/global.js","index.js","redux/store.js","styles/images/Esri-React-Logo.svg","styles/images/Topo-Abs-BG.svg"],"names":["types","AUTH_SUCCESS","AUTH_FAIL","AUTH_CHECK","LOGOUT","initialState","user","loaded","loggedIn","state","action","type","payload","actions","checkAuth","url","portalUrl","logout","status","response","Promise","resolve","reject","Error","statusText","handleResponse","handleAs","text","json","getRequestBody","data","isFormData","this","objectToFormData","obj","body","URLSearchParams","prop","hasOwnProperty","append","has","toString","objectToUrlSearchParams","makeRequest","params","headers","Headers","getHeaders","options","method","hideCredentials","credentials","fetch","then","bind","error","getAppConfig","resp","authLogout","watchStartAPI","call","window","authManager","login","authObj","put","console","location","reload","takeLatest","SET_CONFIG","CONFIG_FETCH","fetchConfig","watchFetchConfig","config","configTypes","log","rootSaga","all","Object","values","authSagas","configSagas","map","fork","features","mapLoaded","setFeatures","bootstrapJSAPI","jsapiUrl","jsapiV4","esriLoader","arcgisUrl","initApi","success","err","createView","mapConfig","node","isScene","id","WebScene","SceneView","portalItem","container","when","view","Map","basemap","initScene","WebMap","MapView","webmap","extent","zoom","center","initMap","AuthManager","appId","loginWithPopup","startup","createIDManager","loadModules","esriId","OAuthInfo","idManager","esriAuthID","localStorage","getItem","initialize","useSignInPage","oAuthInfo","popup","registerOAuthInfos","checkLogin","getUser","failed","persistObj","checkPersist","doLogin","sharingUrl","checkSignInStatus","credential","persistAuth","otherwise","e","getCredential","oAuthPopupConfirmation","portal","Portal","authMode","load","fetchGroups","toJSON","setItem","JSON","stringify","parse","oAuthInfos","cookie","expire","expires","path","removeItem","destroyCredentials","fadeOut","keyframes","Container","styled","div","background","FadingContainer","props","delay","duration","Wrapper","Title","Label","h1","Logo","img","animationPeriod","delayAmount","LoadScreen","playAnimation","setTimeout","setState","isAnimating","isLoading","src","logo","durationAmount","Component","SceneViewExample","init","setupEventHandlers","setupWidgetsAndLayers","finishedLoading","onMapLoaded","FeatureLayer","LayerList","Collection","featureLayer","outFields","title","add","definitionExpression","createDefinitionExpression","zoomToLayer","layerList","listItemCreatedFunction","event","item","actionsOpen","actionsSections","className","ui","expressions","expression","subExpression","baseExpression","on","actionId","layer","find","queryExtent","goTo","is3DScene","nextProps","nextState","ref","connect","dispatch","bindActionCreators","mapActions","BasemapGallery","Search","Expand","searchWidget","document","createElement","content","domNode","expandIconClass","inputRef","React","createRef","onClick","handleSearch","MapWrapper","Main","auth","authActions","App","prevProps","configLoaded","authTried","isAuthenticated","username","isLoaded","configActions","basename","GlobalStyle","createGlobalStyle","homepage","store","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","reducers","sagaMiddleware","createSagaMiddleware","createStore","applyMiddleware","run","initStore","ReactDOM","render","component","getElementById","module","exports"],"mappings":"0kCAYO,IAAMA,EAAQ,CACjBC,aAAc,eACdC,UAAW,YACXC,WAAY,aACZC,OAAQ,UAICC,EAAe,CACxBC,KAAM,KACNC,QAAQ,EACRC,UAAU,GAGC,aAAmC,IAAlCC,EAAiC,uDAAzBJ,EAAcK,EAAW,uCAC/C,OAAQA,EAAOC,MACb,KAAKX,EAAMC,aACT,IAAMK,EAAOI,EAAOE,QAEpB,OAAO,EAAP,GACKH,EADL,CAEEH,OACAC,QAAQ,EACRC,UAAU,IAGd,KAAKR,EAAME,UACT,OAAO,EAAP,GACKO,EADL,CAEEH,KAAM,KACNC,QAAQ,EACRC,UAAU,IAGd,QACE,OAAOC,IAKAI,EAAU,CACrBC,UAAW,SAACC,GAAD,MAAU,CACnBJ,KAAMX,EAAMG,WACZS,QAAS,CACPI,UAAWD,KAIfE,OAAQ,SAACF,GAAD,MAAU,CAChBJ,KAAMX,EAAMI,OACZQ,QAAS,CACPI,UAAWD,MCpDjB,SAASG,EAAOC,GACd,OAAIA,EAASD,QAAU,KAAOC,EAASD,OAAS,IACvCE,QAAQC,QAAQF,GAEhBC,QAAQE,OAAO,IAAIC,MAAMJ,EAASK,aAI7C,SAASC,EAAeC,EAAUP,GAChC,OAAQO,GACN,IAAK,OACH,OAAOP,EAASQ,OAClB,QACE,OAAOR,EAASS,QA8BtB,SAASC,EAAeC,EAAMC,GAE5B,OAAIA,EACKC,KAAKC,iBAAiBH,GA7BjC,SAAiCI,GAC/B,IAAMC,EAAO,IAAIC,gBACjB,IAAK,IAAIC,KAAQH,EACXA,EAAII,eAAeD,IACrBF,EAAKI,OAAOF,EAAMH,EAAIG,IAS1B,OAJKF,EAAKK,IAAI,MACZL,EAAKI,OAAO,IAAK,QAGZJ,EAAKM,WAoBLC,CAAwBZ,GAQ1B,SAASa,EAAYC,GAC1B,OAAO,IAAIxB,SAAQ,SAACC,EAASC,GAC3B,IAAIP,EAAM6B,EAAO7B,IACXe,EAAOc,EAAOd,MAAQ,GACtBe,EA7BV,SAAoBd,GAClB,IAAMc,EAAU,GAMhB,OAJKd,IACHc,EAAQ,gBAAkB,qCAGrB,IAAIC,QAAQD,GAsBDE,CAAWH,EAAOb,YAC5BiB,EAAU,CACdC,OAAQL,EAAOK,QAAU,MACzBJ,WAGGD,EAAOM,kBACVF,EAAQG,YAAc,WAGxB,IAAIhB,EAAON,EAAeC,EAAMc,EAAOb,YAEhB,QAAnBiB,EAAQC,OACVlC,EAAG,UAAMA,EAAN,YAAaoB,GAEhBa,EAAQb,KAAOA,EAGjBiB,MAAMrC,EAAKiC,GACRK,KAAKnC,GACLmC,KAAK5B,EAAe6B,KAAK,KAAMV,EAAOlB,WACtC2B,MAAK,SAASvB,GAETA,EAAKyB,MACPjC,EAAOQ,EAAKyB,OAGdlC,EAAQS,MATZ,OAWS,SAASyB,GACdjC,EAAOiC,SCtFR,SAASC,IACd,OAAO,IAAIpC,SAAQ,SAACC,EAASC,GAC3BqB,EAAY,CACV5B,IAAI,eACJkC,OAAQ,QACPI,MAAK,SAAAI,GAAI,OAAIpC,EAAQoC,SAIrB,SAASxC,EAAOD,GACrB,OAAO,IAAII,SAAQ,SAACC,EAASC,GAC3BqB,EAAY,CACV5B,IAAI,GAAD,OAAKC,EAAL,gCACHU,SAAU,SACT2B,MAAK,SAAAI,GAAI,OAAIpC,EAAQoC,MAAO,SAAAF,GAAK,OAAIjC,EAAOiC,S,eCfzCzC,G,WAqBA4C,G,WAWOC,GAhCjB,SAAU7C,EAAUJ,GAApB,uEAEoB,OAFpB,kBAE0BkD,YAAKC,OAAOC,YAAYC,MAAOrD,EAAOE,QAAQI,WAFxE,YAEUgD,EAFV,wBAMM,OANN,SAMYC,YAAI,CACNtD,KAAMX,EAAMC,aACZW,QAASoD,IARnB,8BAYM,OAZN,UAYYC,YAAK,CAACtD,KAAMX,EAAME,YAZ9B,gCAgBI,OAhBJ,oCAgBU+D,YAAK,CAACtD,KAAMX,EAAME,YAhB5B,QAiBIgE,QAAQX,MAAM,+BAAd,MAjBJ,sDAqBA,SAAUG,EAAWhD,GAArB,iEAEI,OAFJ,kBAEUkD,YAAKC,OAAOC,YAAY7C,QAFlC,OAGI,OAHJ,SAGU2C,YAAK3C,EAAQP,EAAOE,QAAQI,WAHtC,OAII6C,OAAOM,SAASC,SAJpB,gDAMIF,QAAQX,MAAM,4BAAd,MANJ,qDAWO,SAAUI,IAAV,iEACL,OADK,SACCU,YAAWrE,EAAMG,WAAYW,GAD9B,OAEL,OAFK,SAECuD,YAAWrE,EAAMI,OAAQsD,GAF1B,uC,yjBCpCA,IAAM1D,EAAQ,CACnBsE,WAAY,aACZC,aAAc,gBAIHlE,EAAe,CAC1BE,QAAQ,GAGK,aAAmC,IAAlCE,EAAiC,uDAAzBJ,EAAcK,EAAW,uCAC/C,OAAQA,EAAOC,MACb,KAAKX,EAAMsE,WACT,OAAO,KACF7D,EADL,GAEKC,EAAOE,QAFZ,CAGEL,QAAQ,IAEZ,QACE,OAAOE,IAKAI,EAAU,CACrB2D,YAAa,iBAAO,CAAE7D,KAAMX,EAAMuE,gB,WCrB1BC,G,WAiBOC,GAjBjB,SAAUD,EAAa9D,GAAvB,uEAGuB,OAHvB,kBAG6BkD,YAAKJ,GAHlC,OAMQ,OAHMkB,EAHd,gBAMcT,YAAI,CACNtD,KAAMgE,EAAYL,WAClB1D,QAAS8D,IARrB,uDAYQR,QAAQU,IAAI,mCAAZ,MAZR,qDAiBO,SAAUH,IAAV,iEACH,OADG,SACGJ,YAAWM,EAAYJ,aAAcC,GADxC,uC,eCbkBK,GAAV,SAAUA,IAAV,iEACb,OADa,SACPC,YAAI,sBACLC,OAAOC,OAAOC,IADT,YAELF,OAAOC,OAAOE,KAEjBC,IAAIC,MALO,uC,yjBCRR,IAAMpF,EACC,aADDA,EAEG,eAIHK,EAAe,CAC1BE,QAAQ,EACR8E,SAAU,IAGG,aAAmC,IAAlC5E,EAAiC,uDAAzBJ,EAAcK,EAAW,uCAC/C,OAAQA,EAAOC,MACb,KAAKX,EACH,OAAO,KACFS,EADL,CAEEF,QAAQ,IAEZ,KAAKP,EACH,OAAO,KACFS,EADL,CAEE4E,SAAU3E,EAAOE,QAAQyE,WAE7B,QACE,OAAO5E,IAKAI,GAAU,CACrByE,UAAW,iBAAO,CAChB3E,KAAMX,EACNY,QAAS,KAEX2E,YAAa,SAAAF,GAAQ,MAAK,CACxB1E,KAAMX,EACNY,QAAS,CACPyE,e,6FC5BC,SAASG,GAAexE,EAAWyE,EAAUC,GAClD,OAAO,IAAItE,SAAQ,SAACC,EAASC,GAC3B,GAAIqE,cACFtE,QADF,CAKA,IAAM2B,EAAU,CACdjC,IAAK0E,GAGPE,cACc3C,GACXK,MAAK,YAYZ,SAAiBrC,EAAW0E,GAC1B,OAAO,IAAItE,SAAQ,SAACC,EAASC,GACvBoE,GAAW1E,EACb2E,eACe,CAAC,kCACbtC,MAAK,YAAuB,qBAC3BhC,QAEMqE,GAAW1E,EACrB2E,eACe,CAAC,uBAAwB,sBACrCtC,MAAK,YAAqC,IAAD,8BAC5BuC,UAAZ,UAA2B5E,EAA3B,+BACAK,OAEML,GACVK,QA3BEwE,CAAQ7E,EAAW0E,GAASrC,MAC1B,SAAAyC,GAAO,OAAIzE,OACX,SAAAkC,GAAK,OAAIjC,EAAOiC,SALtB,OAQS,SAAAwC,GACLzE,EAAOyE,UA0BR,SAASC,GAAWC,EAAWC,GAAwB,IAAlBC,EAAiB,wDACzD,OAAO,IAAI/E,SAAQ,SAACC,EAASC,GACpBqE,cAKDQ,EAqFZ,SAAmBF,EAAWC,GAE1B,GAAID,EAAUG,GACV,OAAO,IAAIhF,SAAQ,SAACC,EAASC,GACzBqE,eAAuB,CACnB,gBACA,yBACDtC,MAAM,YAA4B,IAAD,oBAAzBgD,EAAyB,KAQhC,IAAIC,EAR4B,MAQlB,CACVnB,IAPS,IAAIkB,EAAS,CACtBE,WAAY,CACRH,GAAIH,EAAUG,MAMlBI,UAAWN,IACZO,MACC,SAAAtF,GACIE,EAAQ,CACJqF,KAAMvF,OAGd,SAAAoC,GACIjC,EAAOiC,YAO3B,OAAO,IAAInC,SAAQ,SAACC,EAASC,GACzBqE,eAAuB,CACnB,WACA,yBACDtC,MAAM,YAAuB,IAAD,oBAApBsD,EAAoB,KAAfL,EAAe,KAErBnB,EAAM,IAAIwB,EAAI,CAChBC,QAASX,EAAUW,UAGvB,IAAIN,EAAU,CACVE,UAAWN,EACXf,IAAKA,IACNsB,MACC,SAAAtF,GACIE,EAAQ,CACJqF,KAAMvF,OAGd,SAAAoC,GACIjC,EAAOiC,YAxIjBsD,CAAUZ,EAAWC,GAAM7C,MACvB,SAAAlC,GACEE,EAAQF,MAEV,SAAAoC,GACIjC,EAAOiC,MAgBzB,SAAiB0C,EAAWC,GAExB,GAAID,EAAUG,GACV,OAAO,IAAIhF,SAAQ,SAACC,EAASC,GACzBqE,eAAuB,CACnB,cACA,qBACA,yBACDtC,MAAM,YAAgC,IAAD,oBAA7ByD,EAA6B,KAArBC,EAAqB,KAE9BC,GAF8B,KAErB,IAAIF,EAAO,CACtBP,WAAY,CACRH,GAAIH,EAAUG,OAItB,IAAIW,EAAQ,CACRP,UAAWN,EACXf,IAAK6B,EACLC,OAAQhB,EAAUgB,SACnBR,MACC,SAAAtF,GACIE,EAAQ,CACJqF,KAAMvF,OAGd,SAAAoC,GACIjC,EAAOiC,YAO3B,OAAO,IAAInC,SAAQ,SAACC,EAASC,GACzBqE,eAAuB,CACnB,WACA,uBACDtC,MAAM,YAAqB,IAAD,oBAAlBsD,EAAkB,KAAbI,EAAa,KAEnB5B,EAAM,IAAIwB,EAAI,CAChBC,QAASX,EAAUW,UAGvB,IAAIG,EAAQ,CACRP,UAAWN,EACXf,IAAKA,EACL+B,KAAMjB,EAAUiB,KAChBC,OAAQlB,EAAUkB,SACnBV,MACC,SAAAtF,GACIE,EAAQ,CACJqF,KAAMvF,OAGd,SAAAoC,GACIjC,EAAOiC,YApEjB6D,CAAQnB,EAAWC,GAAM7C,MACrB,SAAAlC,GACIE,EAAQF,MAEZ,SAAAoC,GACIjC,EAAOiC,MAnBbjC,EAAO,8B,ICjDE+F,GACnB,WAAYC,EAAOtG,EAAWyE,EAAUC,EAAS6B,GAAiB,IAAD,iCAajEC,QAAU,WACR,OAAO,IAAIpG,SAAQ,SAACC,EAASC,GAC3BkE,GAAe,EAAKxE,UAAW,EAAKyE,SAAU,EAAKC,SAChDrC,MAAK,SAAAyC,GAEJ,IAAK,EAAK9E,UACR,OAAOK,IAGT,EAAKoG,kBAAkBpE,KAAKhC,QAPhC,OASS,SAAA0E,GACLzE,WAzByD,KAmCjEmG,gBAAkB,WAChB,OAAO,IAAIrG,SAAQ,SAACC,EAASC,GAC3BoG,uBAAY,CACV,gCACA,4BACCrE,MAAK,YAA0B,IAAD,oBAAvBsE,EAAuB,KAAfC,EAAe,KAC/B,EAAKC,UAAYF,EAEjB,IAAMG,EAAaC,aAAaC,QAAQ,gBACpCF,EAEF,EAAKD,UAAUI,WAAWH,IAE1B,EAAKD,UAAUK,eAAiB,EAAKX,eACrC,EAAKY,UAAY,IAAIP,EAAU,CAC7BN,MAAO,EAAKA,MACZtG,UAAW,EAAKA,UAChBoH,MAAO,EAAKb,iBAEd,EAAKM,UAAUQ,mBAAmB,CAAC,EAAKF,aAG1C9G,OApBF,OAsBO,SAAA0E,GACLzE,WA5D2D,KAyEjEyC,MAAQ,WAAiC,IAAhC/C,EAA+B,uDAAnB,EAAKA,UACxB,OAAO,IAAII,SAAQ,SAACC,EAASC,GAC3B,EAAKgH,aAAajF,MAChB,SAAAyC,GACE,EAAKyC,UAAUlF,KAAKhC,EAASC,MAE/B,SAAAkH,GACE,IAAIC,EAAa,EAAKC,eAEtB,IAAK,EAAKb,WAAaY,GAAcA,EAAWzH,UAE9C,EAAKA,UAAYyH,EAAWzH,cACvB,KAAIA,EAKT,OAAOK,IAHP,EAAKL,UAAYA,EAOnB,EAAKyG,kBAAkBpE,MAAK,WAC1B,EAAKsF,UAAUtF,MAAK,SAAA/C,GAAI,OAAIe,EAAQf,MAAO,SAAAiD,GAAK,OAAIjC,EAAOiC,gBA/FJ,KA0GjE+E,WAAa,WACX,OAAO,IAAIlH,SAAQ,SAACC,EAASC,GAE3B,IAAK,EAAKN,UACR,OAAOM,IAGT,IAAMsH,EAAa,EAAK5H,UAAY,WAEpC,EAAK6G,UACFgB,kBAAkBD,GAClBvF,MAAK,SAAAyF,GACJ,EAAKC,cACL,EAAKR,UAAUlF,KAAKhC,EAASC,MAE9B0H,WAAU,SAAAC,GACT3H,EAAO,gCA1HkD,KAmIjEqH,QAAU,WAIR,OAFA,EAAKI,cAEE,IAAI3H,SAAQ,SAACC,EAASC,GAC3B,IAAMsH,EAAa,EAAK5H,UAAY,WAEpC,EAAK6G,UACFqB,cAAcN,EAAY,CAAEO,wBAAwB,IACpD9F,MAAK,SAAAyF,GACJ,EAAKP,UAAUlF,KAAKhC,EAASC,MAE9B0H,UAAU1H,OA/IgD,KAuJjEiH,QAAU,WACR,OAAO,IAAInH,SAAQ,SAACC,EAASC,GAC3BoG,uBAAY,CAAC,uBAAuBrE,MAAK,YAAe,IAClD+F,EAAS,IAAIC,EADoC,sBAC7B,CACtBtI,IAAK,EAAKC,UACVsI,SAAU,cAEZF,EACGG,OACAlG,MAAK,WACJ,EAAK/C,KAAO8I,EAAO9I,KACnB,EAAKA,KACFkJ,cACAnG,KACChC,EAAQ,EAAKf,OAEd0I,UAAU1H,MAEd0H,UAAU1H,UAzK8C,KAiLjEyH,YAAc,WAEZ,IAAMnH,EAAO,EAAKiG,UAAU4B,SAC5B1B,aAAa2B,QAAQ,eAAgBC,KAAKC,UAAUhI,KApLW,KA2LjE8G,aAAe,WACb,IAAID,EAAakB,KAAKE,MAAM9B,aAAaC,QAAQ,iBAEjD,OAAIS,GAAcA,EAAWqB,WACpBrB,EAAWqB,WAAW,GAGxB,MAlMwD,KAwMjE7I,OAAS,WACPyG,uBAAY,CAAC,gBAAgBrE,MAAK,aAChC0G,EAD8C,sBACvC,YAAa,mBAAoB,CACtCC,QAAS,EACTC,SAAU,EACVC,KAAM,MAERnC,aAAaoC,WAAW,gBACxB,EAAKtC,UAAUuC,yBA/MjBpI,KAAKsF,MAAQA,EACbtF,KAAKhB,UAAYA,EACjBgB,KAAKyD,SAAWA,EAChBzD,KAAK0D,QAAUA,EACf1D,KAAKuF,eAAiBA,G,m0CCL1B,IAAM8C,GAAUC,aAAH,MAKPC,GAAYC,KAAOC,IAAV,KAK2BC,MAIpCC,GAAkBH,aAAOD,GAAPC,CAAH,KACDH,IACI,SAAAO,GAAK,OAAIA,EAAMC,SAElB,SAAAD,GAAK,OAAIA,EAAME,YAG9BC,GAAUP,KAAOC,IAAV,MAOPO,GAAQR,KAAOC,IAAV,MAcLQ,GAAQT,KAAOU,GAAV,MAKLC,GAAOX,KAAOY,IAAV,MAUJC,GAAkBC,IA2CTC,G,YAtCb,WAAYX,GAAQ,IAAD,+BACjB,8CAAMA,KAKRY,cAAgB,WACdC,YAAW,WACT,EAAKC,SAAS,CACZC,aAAa,MAEdN,KATH,EAAK5K,MAAQ,CAAEkL,aAAa,GAFX,E,wEAejB,OAAK3J,KAAK4I,MAAMgB,WAAa5J,KAAKvB,MAAMkL,YAEpC,kBAACpB,GAAD,KACE,kBAACQ,GAAD,KACE,kBAAC,KAAD,OAEF,kBAACC,GAAD,KACE,kBAACG,GAAD,CAAMU,IAAKC,OACX,kBAACb,GAAD,0BAIGjJ,KAAK4I,MAAMgB,WAAa5J,KAAKvB,MAAMkL,aAC5C3J,KAAKwJ,gBAEH,kBAACb,GAAD,CAAiBE,MAlCFS,SAkCyBR,SAjCtBiB,YAqCf,S,GAnCcC,a,wWChDzB,IAAMzB,GAAYC,KAAOC,IAAV,MAQTwB,G,8MAsBJzE,QAAU,SAACvB,EAAWC,GAA2B,IAArBC,EAAoB,wDAC9CH,GAAWC,EAAWC,EAAMC,GAAS9C,MACnC,SAAAlC,GACE,EAAK+K,KAAK/K,GACV,EAAKgL,mBAAmB,EAAKhH,KAC7B,EAAKiH,wBACL,EAAKC,qBAEP,SAAA9I,GACEW,QAAQX,MAAM,SAAUA,GACxBM,OAAO4H,YAAY,WACjB,EAAKjE,QAAQvB,EAAWC,KACvB,S,EAITmG,gBAAkB,WAEhB,EAAKzB,MAAM0B,e,EAGbJ,KAAO,SAAC/K,GACN,EAAKuF,KAAOvF,EAASuF,KACrB,EAAKvB,IAAMhE,EAASuF,KAAKvB,K,EAG3BiH,sBAAwB,WACtB1E,uBAAY,CACV,2BACA,yBACA,yBAEDrE,MAAM,YAIA,IAAD,oBAHJkJ,EAGI,KAFJC,EAEI,KADJC,EACI,KACEC,EAAe,IAAIH,EAAa,CACpCI,UAAW,CAAC,eAAgB,UAAW,QACvCpG,WAAY,CACVH,GAAI,oCAENwG,MAAO,gCAET,EAAKzH,IAAI0H,IAAIH,GAObA,EAAajG,MAAK,WAChBiG,EAAaI,qBAAuBC,EAClC,IACFC,EAAYN,MAGd,IAAMO,EAAY,IAAIT,EAAU,CAC9B9F,KAAM,EAAKA,KACXwG,wBAkDF,SAAuBC,GACrB,IAAMC,EAAOD,EAAMC,KAEnBA,EAAKC,aAAc,EACnBD,EAAKE,gBAAkB,CACrB,CAAC,CACCV,MAAO,YACPW,UAAW,2BACXnH,GAAI,OACH,CACDwG,MAAO,iBACPW,UAAW,2BACXnH,GAAI,SACH,CACDwG,MAAO,iBACPW,UAAW,2BACXnH,GAAI,SACH,CACDwG,MAAO,YACPW,UAAW,2BACXnH,GAAI,QAEN,CAAC,CACCwG,MAAO,sBACPW,UAAW,2BACXnH,GAAI,iBACH,CACDwG,MAAO,uBACPW,UAAW,2BACXnH,GAAI,wBACH,CACDwG,MAAO,cACPW,UAAW,2BACXnH,GAAI,oBAjFV,EAAKM,KAAK8G,GAAGX,IAAII,EAAW,aAK5B,IAAMQ,EAAc,IAAIhB,EAAW,CAAC,CAClCrG,GAAI,MACJsH,WAAY,aACX,CACDtH,GAAI,QACJsH,WAAY,2BACX,CACDtH,GAAI,QACJsH,WAAY,2BACX,CACDtH,GAAI,MACJsH,WAAY,cACX,CACDtH,GAAI,gBACJsH,WAAY,oBACX,CACDtH,GAAI,uBACJsH,WAAY,wCACX,CACDtH,GAAI,cACJsH,WAAY,2CAkEd,SAASX,EAA2BY,GAClC,IAAMC,EACJ,iRASF,OAAOD,EAAgBC,EAAiB,SAAWD,EACjD,IAAMC,EAvEVX,EAAUY,GAAG,kBAAkB,SAASV,GAEtC,IAAMW,EAAWX,EAAMzM,OAAO0F,GACxB2H,EAAQZ,EAAMC,KAAKW,MAMnBjB,EAAuBC,EAJPU,EAAYO,MAAK,SAASZ,GAC9C,OAAOA,EAAKhH,KAAO0H,KAClBJ,YAIHK,EAAMjB,qBAAuBA,EAE7BE,EAAYe,MAkEd,IAAMf,EAAc,SAACe,GACnB,OAAOA,EAAME,cACV5K,MAAK,SAAClC,GACL,EAAKuF,KAAKwH,KAAK/M,EAAS8F,gB,EAMlCkF,mBAAqB,SAAChH,GACpBuC,uBAAY,IAET,gB,qFA3MH1F,KAAKwF,QACHxF,KAAK4I,MAAM3E,UANG,qBAQdjE,KAAK4I,MAAMuD,a,4CAIOC,EAAWC,GAE/B,OAAO,I,+BAIP,OACE,kBAAC,GAAD,CAAWC,IAAI,SAASlI,GAnBV,2B,GAEW4F,aAqOhBuC,aAXS,SAAA9N,GAAK,MAAK,CAChCiE,OAAQjE,EAAMiE,OACdS,IAAK1E,EAAM0E,QAGc,SAAUqJ,GACnC,OAAOC,Y,2VAAmB,IACrBC,IACFF,KAGUD,CAA8CtC,I,0UC7O7D,IAAM1B,GAAYC,KAAOC,IAAV,MAQT9D,G,8MA0BJa,QAAU,SAACvB,EAAWC,GAA2B,IAArBC,EAAoB,wDAC9CH,GAAWC,EAAWC,EAAMC,GAAS9C,MACnC,SAAAlC,GACE,EAAK+K,KAAK/K,GACV,EAAKgL,mBAAmB,EAAKhH,KAC7B,EAAKiH,wBACL,EAAKC,qBAEP,SAAA9I,GACEW,QAAQX,MAAM,SAAUA,GACxBM,OAAO4H,YAAY,WACjB,EAAKjE,QAAQvB,EAAWC,KACvB,S,EAITmG,gBAAkB,WAEhB,EAAKzB,MAAM0B,e,EAGbJ,KAAO,SAAC/K,GACN,EAAKuF,KAAOvF,EAASuF,KACrB,EAAKvB,IAAMhE,EAASuF,KAAKvB,K,EAG3BiH,sBAAwB,WACtB1E,uBAAY,CACR,8BACA,sBACA,sBACA,mBAEHrE,MAAM,YAIA,IAAD,oBAHFsL,EAGE,KAFFC,EAEE,KADFC,EACE,KAOAC,GALmB,IAAIH,EAAe,CACxCjI,KAAM,EAAKA,OAIM,IAAIkI,EAAO,CAC1BlI,KAAM,EAAKA,KACZF,UAAYuI,SAASC,cAAc,UASpB,IAAIH,EAAO,CAC3BnI,KAAO,EAAKA,KACZuI,QAAUH,EAAaI,QACvB1I,UAAY,YACZ2I,gBAAkB,0B,EAaxBhD,mBAAqB,SAAChH,GACpBuC,uBAAY,IAET,gB,qFAlGH1F,KAAKwF,QACHxF,KAAK4I,MAAM3E,UANG,qBAQdjE,KAAK4I,MAAMuD,a,4CAIOC,EAAWC,GAE/B,OAAO,I,+BAIP,OACE,oCAEA,kBAAC,GAAD,CAAWC,IAAI,SAASlI,GArBV,4B,GAEF4F,aA4HHuC,gBAXS,SAAA9N,GAAK,MAAK,CAChCiE,OAAQjE,EAAMiE,OACdS,IAAK1E,EAAM0E,QAGc,SAAUqJ,GACnC,OAAOC,Y,2VAAmB,IACrBC,IACFF,KAGUD,CAA8C5H,I,gFClKxCiI,ICqBK5C,Y,iCDnBxB,WAAYpB,GAAO,IAAD,+BAChB,8CAAMA,KACDwE,SAASC,IAAMC,YAFJ,E,4EAKLrG,GACX/E,QAAQU,IAAI,U,+BAGR,OACI,6BAASwB,GAAG,SAASmH,UAAU,qEAC/B,yBAAKA,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,WACf,yBAAKgC,QAASvN,KAAKwN,aAAclB,IAAKtM,KAAKoN,SAAUhJ,GAAG,sB,GAhBpC4F,c,+XEsCpC,IAAMzB,GAAYC,KAAOC,IAAV,MAITgF,GAAajF,KAAOC,IAAV,MAMViF,G,sLAYF,OACE,oCAEA,yBAAKnC,UAAU,mBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,UACX,kBAAC,GAAD,OAEJ,yBAAKA,UAAU,WACX,6CACA,gCAMN,kBAAC,GAAD,CAAWA,UAAU,aACf,kBAACkC,GAAD,CAAYrJ,GAAG,SAASmH,UAAU,cAChC,kBAAC,GAAD,CAAKnH,GAAG,QACNkG,YAAatK,KAAK4I,MAAMtF,UACxBW,UAAWjE,KAAK4I,MAAMlG,OAAOuB,UAC7BkI,WAAW,W,GAjCVnC,aA6DJuC,gBAbS,SAAA9N,GAAK,MAAK,CAChC0E,IAAK1E,EAAM0E,IACXwK,KAAMlP,EAAMkP,KACZjL,OAAQjE,EAAMiE,WAGW,SAAU8J,GACnC,OAAOC,Y,2VAAmB,IACrBC,GADoB,GAEpBkB,GACFpB,KAGUD,CAA6CmB,I,mOCzFtDG,G,iMAIF7N,KAAK4I,MAAMpG,gB,yCAGMsL,GAEb9N,KAAK4I,MAAMlG,QACb1C,KAAK4I,MAAMlG,OAAOnE,SAAWuP,EAAUpL,OAAOnE,SAG9CsD,OAAOC,YAAc,IAAIuD,GACvBrF,KAAK4I,MAAMlG,OAAO4C,MAClBtF,KAAK4I,MAAMlG,OAAO1D,UAClBgB,KAAK4I,MAAMlG,OAAOe,SAClBzD,KAAK4I,MAAMlG,OAAOgB,QAClB1D,KAAK4I,MAAMlG,OAAO6C,gBAEpB1D,OAAOC,YAAY0D,UAAUnE,KAAKrB,KAAK4I,MAAM9J,c,+BAM/C,IAAMiP,EAAe/N,KAAK4I,MAAMlG,OAAOnE,OACjCyP,EAAYhO,KAAK4I,MAAM+E,KAAKpP,OAE5B0P,EAAmBjO,KAAK4I,MAAM+E,KAAKrP,MAAQ0B,KAAK4I,MAAM+E,KAAKrP,KAAK4P,WAAclO,KAAK4I,MAAMlG,OAAO1D,UAGtG,OAAKgP,GAAcC,GAAoBF,EAOhC,kBAAC,GAAD,MALD,kBAAC,GAAD,CAAYI,UAAU,Q,GAlCdnE,aAwDHuC,gBAZS,SAAA9N,GAAK,MAAK,CAChCkP,KAAMlP,EAAMkP,KACZjL,OAAQjE,EAAMiE,WAGW,SAAU8J,GACnC,OAAOC,Y,2VAAmB,IACrB2B,EADoB,GAEpBR,GACFpB,KAGUD,CAA6CsB,I,2YClErD,ICiBHQ,GDjBSC,GAAcC,aAAH,M,OCfxB,uCAiC2DF,GAAWG,KAG/D,IAAMC,GCZN,WAGL,IAAMC,EAAkB7M,OAAO8M,sCAAwCC,IAGjEC,EAAcC,YAAgBC,GAC9BC,EAAiBC,cAEjBR,EAAQS,YACZL,EACAH,EAAgBS,YAAgBH,KAMlC,OAFAA,EAAeI,IAAIvM,GAEZ4L,EDLYY,GAGrBC,IAASC,OACP,kBAAC,IAAD,CAAUd,MAAOA,IACf,kBAAC,KAAD,CAAeJ,SAAUA,IACvB,kBAAC,KAAD,KACE,kBAACC,GAAD,MACA,kBAAC,KAAD,CAAOpG,KAAK,IAAIsH,UAAW3B,QAIjCd,SAAS0C,eAAe,U,mBEhD1BC,EAAOC,QAAU,IAA0B,6C,+ECA3CD,EAAOC,QAAU,IAA0B,yC","file":"static/js/main.5fb51994.chunk.js","sourcesContent":["// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// ACTION TYPES //\nexport const types = {\n    AUTH_SUCCESS: 'AUTH_SUCCESS',\n    AUTH_FAIL: 'AUTH_FAIL',\n    AUTH_CHECK: 'AUTH_CHECK',\n    LOGOUT: 'LOGOUT',\n}\n\n// REDUCERS //\nexport const initialState = {\n    user: null,\n    loaded: false,\n    loggedIn: false,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case types.AUTH_SUCCESS:\n      const user = action.payload;\n\n      return {\n        ...state,\n        user,\n        loaded: true,\n        loggedIn: true\n      };\n\n    case types.AUTH_FAIL:\n      return {\n        ...state,\n        user: null,\n        loaded: true,\n        loggedIn: false\n      };\n\n    default:\n      return state;\n  }\n}\n\n// ACTIONS //\nexport const actions = {\n  checkAuth: (url) => ({\n    type: types.AUTH_CHECK,\n    payload: {\n      portalUrl: url,\n    }\n  }),\n\n  logout: (url) => ({\n    type: types.LOGOUT,\n    payload: {\n      portalUrl: url,\n    }\n  }),\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\nfunction status(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(new Error(response.statusText));\n  }\n}\n\nfunction handleResponse(handleAs, response) {\n  switch (handleAs) {\n    case \"text\":\n      return response.text();\n    default:\n      return response.json();\n  }\n}\n\nfunction objectToUrlSearchParams(obj) {\n  const body = new URLSearchParams();\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      body.append(prop, obj[prop]);\n    }\n  }\n\n  // add f=json if not included\n  if (!body.has(\"f\")) {\n    body.append(\"f\", \"json\");\n  }\n\n  return body.toString();\n}\n\nfunction getHeaders(isFormData) {\n  const headers = {};\n\n  if (!isFormData) {\n    headers[\"content-type\"] = \"application/x-www-form-urlencoded\";\n  }\n\n  return new Headers(headers);\n}\n\nfunction getRequestBody(data, isFormData) {\n  // if formdata, make formdata\n  if (isFormData) {\n    return this.objectToFormData(data);\n  }\n\n  // Not formdata, make url param\n  return objectToUrlSearchParams(data);\n}\n\n/**\n * Make a request using fetch()\n * @param  { Object } params Object containing key/value parameters to pass to fetch()\n * @return { Promise}        Promise returned by fetch()\n */\nexport function makeRequest(params) {\n  return new Promise((resolve, reject) => {\n    let url = params.url;\n    const data = params.data || {};\n    const headers = getHeaders(params.isFormData);\n    const options = {\n      method: params.method || \"get\",\n      headers\n    };\n\n    if (!params.hideCredentials) {\n      options.credentials = \"include\";\n    }\n\n    let body = getRequestBody(data, params.isFormData);\n\n    if (options.method === \"get\") {\n      url = `${url}?${body}`;\n    } else {\n      options.body = body;\n    }\n\n    fetch(url, options)\n      .then(status)\n      .then(handleResponse.bind(null, params.handleAs))\n      .then(function(data) {\n        // Handle successful requests that are actually errors...\n        if (data.error) {\n          reject(data.error);\n          return;\n        }\n        resolve(data);\n      })\n      .catch(function(error) {\n        reject(error);\n      });\n  });\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n/**\n * Some general functions to help with requests\n */\n\nimport { makeRequest } from \"./request\";\n\nexport function getAppConfig() {\n  return new Promise((resolve, reject) => {\n    makeRequest({\n      url: `/config.json`,\n      method: \"get\"\n    }).then(resp => resolve(resp));\n  });\n}\n\nexport function logout(portalUrl) {\n  return new Promise((resolve, reject) => {\n    makeRequest({\n      url: `${portalUrl}/sharing/rest/oauth2/signout`,\n      handleAs: \"text\"\n    }).then(resp => resolve(resp), error => reject(error));\n  });\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\nimport { call, put, takeLatest } from 'redux-saga/effects';\nimport { types } from '../reducers/auth';\nimport { logout } from '../../services/api';\n\n// WORKER //\nfunction* checkAuth(action) {\n  try {\n    const authObj = yield call(window.authManager.login, action.payload.portalUrl);\n\n    // Check if the authObj is undefined\n    if (authObj) {\n      yield put({\n          type: types.AUTH_SUCCESS,\n          payload: authObj\n      });\n    } else {\n      // putting a fail call here just means that we didn't need to login\n      yield put( {type: types.AUTH_FAIL} );\n    }\n\n  } catch(e) {\n    yield put( {type: types.AUTH_FAIL} );\n    console.error('SAGA ERROR: auth/checkAuth, ', e);\n  }\n}\n\nfunction* authLogout(action) {\n  try {\n    yield call(window.authManager.logout);\n    yield call(logout, action.payload.portalUrl);\n    window.location.reload();\n  } catch(e) {\n    console.error('SAGA ERROR: auth/logout, ', e);\n  }\n}\n\n// WATCHER //\nexport function* watchStartAPI() {\n  yield takeLatest(types.AUTH_CHECK, checkAuth);\n  yield takeLatest(types.LOGOUT, authLogout);\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// ACTION TYPES //\nexport const types = {\n  SET_CONFIG: \"SET_CONFIG\",\n  CONFIG_FETCH: \"CONFIG_FETCH\"\n};\n\n// REDUCERS //\nexport const initialState = {\n  loaded: false\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case types.SET_CONFIG:\n      return {\n        ...state,\n        ...action.payload,\n        loaded: true\n      };\n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const actions = {\n  fetchConfig: () => ({ type: types.CONFIG_FETCH })\n};\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\nimport { call, put, takeLatest } from 'redux-saga/effects';\nimport { getAppConfig } from '../../services/api';\nimport { types as configTypes } from '../reducers/config';\n\n// WORKER //\nfunction* fetchConfig (action) {\n    try {\n        // call API to fetch config\n        const config = yield call(getAppConfig);\n\n        // Put config in store\n        yield put({\n            type: configTypes.SET_CONFIG,\n            payload: config\n        });\n\n    } catch (e) {\n        console.log('SAGA ERROR: config/fetchConfig, ', e);\n    }\n}\n\n// WATCHER //\nexport function* watchFetchConfig() {\n    yield takeLatest(configTypes.CONFIG_FETCH, fetchConfig);\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n/**\n * Combine your Sagas into one output\n */\n\nimport { all, fork } from 'redux-saga/effects';\n\nimport * as authSagas from './_auth';\nimport * as configSagas from './_config';\n\nexport default function* rootSaga() {\n  yield all([\n    ...Object.values(authSagas),\n    ...Object.values(configSagas),\n    // more sagas from different files\n  ].map(fork));\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// ACTION TYPES //\nexport const types = {\n  MAP_LOADED: \"MAP_LOADED\",\n  SET_FEATURES: \"SET_FEATURES\"\n};\n\n// REDUCERS //\nexport const initialState = {\n  loaded: false,\n  features: []\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case types.MAP_LOADED:\n      return {\n        ...state,\n        loaded: true\n      };\n    case types.SET_FEATURES:\n      return {\n        ...state,\n        features: action.payload.features\n      };\n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const actions = {\n  mapLoaded: () => ({\n    type: types.MAP_LOADED,\n    payload: {}\n  }),\n  setFeatures: features => ({\n    type: types.SET_FEATURES,\n    payload: {\n      features\n    }\n  })\n};\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// Esri Loader\nimport * as esriLoader from 'esri-loader';\n\n/**\n * Load in the Esri JSAPI using parameters from the app's configuration\n * @param  {string}   portalUrl  Portal URL from public/config\n * @param  {string}   jsapiUrl   JSAPI URL from public/config\n * @param  {bool}     jsapiV4    Flag for Esri JSAPI 4.x\n * @return {Promise}             Returns a promise for async\n */\nexport function bootstrapJSAPI(portalUrl, jsapiUrl, jsapiV4) {\n  return new Promise((resolve, reject) => {\n    if (esriLoader.isLoaded()) {\n      resolve();\n      return;\n    }\n\n    const options = {\n      url: jsapiUrl\n    };\n\n    esriLoader\n      .loadScript(options)\n      .then(() => {\n        initApi(portalUrl, jsapiV4).then(\n          success => resolve(),\n          error => reject(error)\n        );\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n\nfunction initApi(portalUrl, jsapiV4) {\n  return new Promise((resolve, reject) => {\n    if (jsapiV4 && portalUrl) {\n      esriLoader\n        .loadModules(['esri/identity/IdentityManager'])\n        .then(([IdentityManager]) => {\n          resolve();\n        });\n    } else if (!jsapiV4 && portalUrl) {\n      esriLoader\n        .loadModules(['esri/IdentityManager', 'esri/arcgis/utils'])\n        .then(([IdentityManager, arcgisUtils]) => {\n          arcgisUtils.arcgisUrl = `${portalUrl}/sharing/rest/content/items`;\n          resolve();\n        });\n    } else if (!portalUrl) {\n      resolve();\n    }\n  });\n}\n\nexport function createView(mapConfig, node, isScene = false) {\n    return new Promise((resolve, reject) => {\n        if (!esriLoader.isLoaded()) {\n            reject('JSAPI is not yet loaded');\n            return;\n        }\n\n        if (isScene) {\n          initScene(mapConfig, node).then(\n              response => {\n                resolve(response);\n              },\n              error => {\n                  reject(error);\n              }\n          );\n        } else {\n          initMap(mapConfig, node).then(\n              response => {\n                  resolve(response);\n              },\n              error => {\n                  reject(error);\n              }\n          );\n        }\n    });\n}\n\nfunction initMap(mapConfig, node) {\n    // if there is a portal ID then this is a web map\n    if (mapConfig.id) {\n        return new Promise((resolve, reject) => {\n            esriLoader.loadModules([\n                'esri/WebMap',\n                'esri/views/MapView',\n                'esri/geometry/Extent'\n            ]).then( ([WebMap, MapView, Extent]) => {\n\n                const webmap = new WebMap({\n                    portalItem: {\n                        id: mapConfig.id\n                    }\n                });\n\n                new MapView({\n                    container: node,\n                    map: webmap,\n                    extent: mapConfig.extent\n                }).when(\n                    response => {\n                        resolve({\n                            view: response,\n                        });\n                    },\n                    error => {\n                        reject(error);\n                    }\n                );\n            });\n        });\n    }\n    // else if there is no portal ID then we return the default map view\n    return new Promise((resolve, reject) => {\n        esriLoader.loadModules([\n            'esri/Map',\n            'esri/views/MapView'\n        ]).then( ([Map, MapView]) => {\n\n            const map = new Map({\n                basemap: mapConfig.basemap\n            });\n\n            new MapView({\n                container: node,\n                map: map,\n                zoom: mapConfig.zoom,\n                center: mapConfig.center\n            }).when(\n                response => {\n                    resolve({\n                        view: response,\n                    });\n                },\n                error => {\n                    reject(error);\n                }\n            );\n        });\n    });\n}\n\nfunction initScene(mapConfig, node) {\n    // if there is a portal ID then this is a web scene\n    if (mapConfig.id) {\n        return new Promise((resolve, reject) => {\n            esriLoader.loadModules([\n                'esri/WebScene',\n                'esri/views/SceneView',\n            ]).then( ([WebScene, SceneView]) => {\n\n                let webmap = new WebScene({\n                    portalItem: {\n                        id: mapConfig.id\n                    }\n                });\n\n                new SceneView({\n                    map: webmap,\n                    container: node\n                }).when(\n                    response => {\n                        resolve({\n                            view: response,\n                        });\n                    },\n                    error => {\n                        reject(error);\n                    }\n                )\n            });\n        });\n    }\n    // else if there is no portal ID then we return the default scene view\n    return new Promise((resolve, reject) => {\n        esriLoader.loadModules([\n            'esri/Map',\n            'esri/views/SceneView'\n        ]).then( ([Map, SceneView]) => {\n\n            const map = new Map({\n                basemap: mapConfig.basemap\n            });\n\n            new SceneView({\n                container: node,\n                map: map\n            }).when(\n                response => {\n                    resolve({\n                        view: response,\n                    });\n                },\n                error => {\n                    reject(error);\n                }\n            );\n        });\n    });\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// Esri Loader\nimport { loadModules } from 'esri-loader';\n// Esri Helper Functions\nimport { bootstrapJSAPI } from '../../../utils/esriHelper';\n\n/**\n * Class to help with Authentication\n * This is a non-rendered class that is usually attached to the window\n * @type {Class}\n */\nexport default class AuthManager {\n  constructor(appId, portalUrl, jsapiUrl, jsapiV4, loginWithPopup) {\n    this.appId = appId;\n    this.portalUrl = portalUrl;\n    this.jsapiUrl = jsapiUrl;\n    this.jsapiV4 = jsapiV4;\n    this.loginWithPopup = loginWithPopup;\n  }\n\n  /**\n   * Use this to start up the JS API via the AuthManager class\n   * @return {Promise} Resolves if there is no portal url, which means no login required\n   *                   or there is a portal url and the IdentityManager is setup correctly\n   */\n  startup = () => {\n    return new Promise((resolve, reject) => {\n      bootstrapJSAPI(this.portalUrl, this.jsapiUrl, this.jsapiV4)\n        .then(success => {\n          // Check if we need to authenticate\n          if (!this.portalUrl) {\n            return resolve();\n          }\n          // If we need authentication then set up IDManager\n          this.createIDManager().then(resolve());\n        })\n        .catch(err => {\n          reject();\n        });\n    });\n  };\n\n  /**\n   * Method to create Esri JS API IdentityManager\n   * This is called in startup but can be called independently if needed\n   * @return {Promise} Resolves after IdentityManager is setup\n   */\n  createIDManager = () => {\n    return new Promise((resolve, reject) => {\n      loadModules([\n        'esri/identity/IdentityManager',\n        'esri/identity/OAuthInfo'\n      ]).then(([esriId, OAuthInfo]) => {\n        this.idManager = esriId;\n\n        const esriAuthID = localStorage.getItem('esri_auth_id');\n        if (esriAuthID) {\n          // if auth was persisted, just use that\n          this.idManager.initialize(esriAuthID);\n        } else {\n          this.idManager.useSignInPage = !this.loginWithPopup;\n          this.oAuthInfo = new OAuthInfo({\n            appId: this.appId,\n            portalUrl: this.portalUrl,\n            popup: this.loginWithPopup\n          });\n          this.idManager.registerOAuthInfos([this.oAuthInfo]);\n        }\n\n        resolve();\n      })\n      .catch(err => {\n        reject();\n      });\n    })\n  };\n\n  /**\n   * Main login function\n   * This will see if the user has persistent login info\n   * and if not it will run the login method\n   * @param  {string}   [portalUrl=this.portalUrl]   will default to config portalUrl\n   * @return {Promise}                               will resolve if user is logged in or\n   *                                                 conditions are met on portal url\n   */\n  login = (portalUrl = this.portalUrl) => {\n    return new Promise((resolve, reject) => {\n      this.checkLogin().then(\n        success => {\n          this.getUser().then(resolve, reject);\n        },\n        failed => {\n          let persistObj = this.checkPersist();\n\n          if (!this.idManager && persistObj && persistObj.portalUrl) {\n            // if there is persistent login info grab that portal url\n            this.portalUrl = persistObj.portalUrl;\n          } else if (portalUrl) {\n            // if a portal url was passed in as a param grab that\n            this.portalUrl = portalUrl;\n          } else {\n            // no portal, we don't need to login and can return\n            return resolve();\n          }\n\n          // use the aquired portal url to setup a new ID Manager and login\n          this.createIDManager().then(() => {\n            this.doLogin().then(user => resolve(user), error => reject(error));\n          });\n        }\n      );\n    });\n  };\n\n  /**\n   * Check if user is logged in already via persistent login info\n   * @return {Promise} will reject if no portal url or there is a login/user info error\n   */\n  checkLogin = () => {\n    return new Promise((resolve, reject) => {\n      // Reject this if there is no portal URL in the config file\n      if (!this.portalUrl) {\n        return reject();\n      }\n\n      const sharingUrl = this.portalUrl + '/sharing';\n\n      this.idManager\n        .checkSignInStatus(sharingUrl)\n        .then(credential => {\n          this.persistAuth();\n          this.getUser().then(resolve, reject);\n        })\n        .otherwise(e => {\n          reject('User is not logged in');\n        });\n    });\n  };\n\n  /**\n   * Method for login process\n   * @return {Promise} Resolves if we user info from login\n   */\n  doLogin = () => {\n    // we can store the portal url here so the browser rememebers us on refresh\n    this.persistAuth();\n\n    return new Promise((resolve, reject) => {\n      const sharingUrl = this.portalUrl + '/sharing';\n\n      this.idManager\n        .getCredential(sharingUrl, { oAuthPopupConfirmation: false })\n        .then(credential => {\n          this.getUser().then(resolve, reject);\n        })\n        .otherwise(reject);\n    });\n  };\n\n  /**\n   * Get user info, part of login process\n   * @return {Promise} Resolves once we get user info\n   */\n  getUser = () => {\n    return new Promise((resolve, reject) => {\n      loadModules(['esri/portal/Portal']).then(([Portal]) => {\n        let portal = new Portal({\n          url: this.portalUrl,\n          authMode: 'immediate'\n        });\n        portal\n          .load()\n          .then(() => {\n            this.user = portal.user;\n            this.user\n              .fetchGroups()\n              .then(\n                resolve(this.user)\n              )\n              .otherwise(reject);\n          })\n          .otherwise(reject);\n      });\n    });\n  };\n\n  /**\n   * Method to store the login info\n   */\n  persistAuth = () => {\n    // persist auth to a cookie for cross-page goodness\n    const json = this.idManager.toJSON();\n    localStorage.setItem('esri_auth_id', JSON.stringify(json));\n  };\n\n  /**\n   * Get method for the stored login info\n   * @return {Object} The login info object, can be null\n   */\n  checkPersist = () => {\n    let persistObj = JSON.parse(localStorage.getItem('esri_auth_id'));\n\n    if (persistObj && persistObj.oAuthInfos) {\n      return persistObj.oAuthInfos[0];\n    }\n\n    return null;\n  }\n\n  /**\n   * Method for logging out\n   */\n  logout = () => {\n    loadModules(['dojo/cookie']).then(([cookie]) => {\n      cookie('esri_auth', '{esri: \"logout\"}', {\n        expire: -1,\n        expires: -1,\n        path: '/'\n      });\n      localStorage.removeItem('esri_auth_id');\n      this.idManager.destroyCredentials();\n    });\n  };\n}\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// React\nimport React, { Component } from 'react';\n\n// Components\nimport Loader from 'calcite-react/Loader';\nimport background from '../styles/images/Topo-Abs-BG.svg';\nimport logo from '../styles/images/Esri-React-Logo.svg';\n\n// Styled Components\nimport styled, { keyframes } from 'styled-components';\n\nconst fadeOut = keyframes`\n  0%   {opacity: 1;}\n  100% {opacity: 0;}\n`;\n\nconst Container = styled.div`\n  position: absolute;\n  z-index: 10;\n  height: 100%;\n  width: 100%;\n  background: rgba(255,255,255,0.1) url(${background}) no-repeat center/cover;\n  background-blend-mode: screen;\n`;\n\nconst FadingContainer = styled(Container)`\n  animation-name: ${fadeOut};\n  animation-duration: ${props => props.delay};\n  animation-timing-function: ease-in-out;\n  animation-delay: ${props => props.duration};\n`;\n\nconst Wrapper = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%);\n`;\n\nconst Title = styled.div `\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n  padding: 2em;\n  text-align: right;\n  color: white;\n`;\n\nconst Label = styled.h1 `\n  font-size: 3em;\n  text-shadow: -2px 2px 8px rgba(0,0,0,0.25);\n`;\n\nconst Logo = styled.img `\n  width: 5em;\n  height: 100%;\n  margin-right: 1em;\n`;\n\n// Animation durations in millisecondss -- Change these to adjust animation\nconst delayAmount = 1000;\nconst durationAmount = 1000;\n// Animation calculations\nconst animationPeriod = delayAmount + durationAmount;\nconst animationDelay = delayAmount + 'ms';\nconst animationDuration = durationAmount + 'ms';\n\nclass LoadScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { isAnimating: true }\n  }\n\n  // Run animation timer\n  playAnimation = () => {\n    setTimeout(() => {\n      this.setState({\n        isAnimating: false\n      });\n    }, animationPeriod);\n  }\n\n  render() {\n    if (!this.props.isLoading && this.state.isAnimating) {\n      return (\n        <Container>\n          <Wrapper>\n            <Loader/>\n          </Wrapper>\n          <Title>\n            <Logo src={logo}></Logo>\n            <Label>Esri-React-Boot</Label>\n          </Title>\n        </Container>\n      )\n    } else if (this.props.isLoading && this.state.isAnimating) {\n      this.playAnimation();\n      return (\n        <FadingContainer delay={animationDelay} duration={animationDuration}/>\n      )\n    }\n\n    return null;\n  }\n}\n\nexport default LoadScreen\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// NOTE\n// This is a \"special\" react component that does not strictly play by\n// React's rules.\n//\n// Conceptually, this component creates a \"portal\" in React by\n// closing its render method off from updates (by simply rendering a div and\n// never accepting re-renders) then reconnecting itself to the React lifecycle\n// by listening for any new props (using componentWillReceiveProps)\n\n// React\nimport React, { Component } from 'react';\n\n// Redux\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { actions as mapActions } from '../../../redux/reducers/map';\n\n// ESRI\nimport { loadModules } from 'esri-loader';\nimport { createView } from '../../../utils/esriHelper';\n\n// Styled Components\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  height: 100%;\n  width: 100%;\n`;\n\n// Variables\nconst containerID = \"map-view-container\";\n\nclass SceneViewExample extends Component {\n\n  componentDidMount() {\n    this.startup(\n      this.props.mapConfig,\n      containerID,\n      this.props.is3DScene\n    );\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Tell React to never update this component, that's up to us\n    return false;\n  }\n\n  render() {\n    return (\n      <Container ref=\"mapDiv\" id={containerID}></Container>\n    );\n  }\n\n  // ESRI JSAPI\n  startup = (mapConfig, node, isScene = false) => {\n    createView(mapConfig, node, isScene).then(\n      response => {\n        this.init(response);\n        this.setupEventHandlers(this.map);\n        this.setupWidgetsAndLayers();\n        this.finishedLoading();\n      },\n      error => {\n        console.error(\"maperr\", error);\n        window.setTimeout( () => {\n          this.startup(mapConfig, node);\n        }, 1000);\n      })\n  }\n\n  finishedLoading = () => {\n    // Update app state only after map and widgets are loaded\n    this.props.onMapLoaded();\n  }\n\n  init = (response) => {\n    this.view = response.view\n    this.map = response.view.map;\n  }\n\n  setupWidgetsAndLayers = () => {\n    loadModules([\n      'esri/layers/FeatureLayer',\n      'esri/widgets/LayerList',\n      'esri/core/Collection',\n    ])\n    .then( ([\n      FeatureLayer,\n      LayerList,\n      Collection,\n    ]) => {\n      const featureLayer = new FeatureLayer({\n        outFields: [\"STATION_NAME\", \"COUNTRY\", \"TEMP\"],\n        portalItem: { // autocasts as new PortalItem()\n          id: \"3a177da3f6524d61980fb41125b2349c\"\n        },\n        title: \"Temperature on Jan, 4, 2017\"\n      });\n      this.map.add(featureLayer);\n\n      // When the layer is loaded, query for the extent\n      // of all features in the layer that satisfy the\n      // definitionExpression. Then set the view's\n      // extent to the returned extent of all features.\n\n      featureLayer.when(function() {\n        featureLayer.definitionExpression = createDefinitionExpression(\n          \"\");\n        zoomToLayer(featureLayer);\n      });\n\n      const layerList = new LayerList({\n        view: this.view,\n        listItemCreatedFunction: createActions\n      });\n      this.view.ui.add(layerList, \"top-right\");\n\n      // definitionExpressions used by each action\n      // listed in the LayerList\n\n      const expressions = new Collection([{\n        id: \"75+\",\n        expression: \"TEMP > 75\"\n      }, {\n        id: \"50-75\",\n        expression: \"TEMP > 50 AND TEMP <=75\"\n      }, {\n        id: \"25-50\",\n        expression: \"TEMP > 25 AND TEMP <=50\"\n      }, {\n        id: \"25-\",\n        expression: \"TEMP <= 25\"\n      }, {\n        id: \"arctic-circle\",\n        expression: \"LATITUDE >= 66.5\"\n      }, {\n        id: \"north-temperate-zone\",\n        expression: \"LATITUDE < 66.5 AND LATITUDE >= 23.5\"\n      }, {\n        id: \"torrid-zone\",\n        expression: \"LATITUDE < 23.5 AND LATITUDE >= -23.5\"\n      }]);\n\n      // When an action is triggered, the definitionExpression\n      // is set on the layer and the view's extent updates\n      // to match the features visible in the layer\n\n      layerList.on(\"trigger-action\", function(event) {\n\n        const actionId = event.action.id;\n        const layer = event.item.layer;\n\n        const subExpression = expressions.find(function(item) {\n          return item.id === actionId;\n        }).expression;\n\n        const definitionExpression = createDefinitionExpression(\n          subExpression);\n        layer.definitionExpression = definitionExpression;\n\n        zoomToLayer(layer);\n      });\n\n      function createActions(event) {\n        const item = event.item;\n\n        item.actionsOpen = true;\n        item.actionsSections = [\n          [{\n            title: \"> 75°F\",\n            className: \"esri-icon-zoom-out-fixed\",\n            id: \"75+\"\n          }, {\n            title: \"50°-75°F\",\n            className: \"esri-icon-zoom-out-fixed\",\n            id: \"50-75\"\n          }, {\n            title: \"25°-50°F\",\n            className: \"esri-icon-zoom-out-fixed\",\n            id: \"25-50\"\n          }, {\n            title: \"< 25°F\",\n            className: \"esri-icon-zoom-out-fixed\",\n            id: \"25-\"\n          }],\n          [{\n            title: \"Above Arctic Circle\",\n            className: \"esri-icon-zoom-out-fixed\",\n            id: \"arctic-circle\"\n          }, {\n            title: \"North Temperate Zone\",\n            className: \"esri-icon-zoom-out-fixed\",\n            id: \"north-temperate-zone\"\n          }, {\n            title: \"Torrid Zone\",\n            className: \"esri-icon-zoom-out-fixed\",\n            id: \"torrid-zone\"\n          }]\n        ];\n      }\n\n      // Appends a definitionExpression to a base expression\n      // the base expression only returns freatures in\n      // Canada, USA, and Mexico. It excludes some US territories\n      // located on the other side of the dateline\n\n      function createDefinitionExpression(subExpression) {\n        const baseExpression =\n          \"( COUNTRY LIKE '%United States Of America%' OR \" +\n          \"COUNTRY LIKE '%Canada%' OR \" +\n          \"COUNTRY LIKE '%Mexico%') AND NOT\" +\n          \"(COUNTRY LIKE '%Johnston/Wake/Xmas%' OR \" +\n          \"COUNTRY LIKE '%Hawaii%' OR \" +\n          \"COUNTRY LIKE '%Marshall Islands%' OR \" +\n          \"STATION_NAME = 'Eareckson/Shemya' OR \" +\n          \"COUNTRY LIKE '%Guam%' )\";\n\n        return subExpression ? baseExpression + \" AND (\" + subExpression +\n          \")\" : baseExpression;\n      }\n\n      // Zooms to the extent of the layer as defined by\n      // its definitionExpression\n      // This method will work for all FeatureLayers, even\n      // those without a saved `fullExtent` on the service.\n\n      const zoomToLayer = (layer) => {\n        return layer.queryExtent()\n          .then((response) => {\n            this.view.goTo(response.extent);\n          });\n      }\n    });\n  }\n\n  setupEventHandlers = (map) => {\n    loadModules([\n\n    ], (\n\n    ) => {\n\n      //\n      // JSAPI Map Event Handlers go here!\n      //\n\n    });\n  }\n}\n\nconst mapStateToProps = state => ({\n  config: state.config,\n  map: state.map\n});\n\nconst mapDispatchToProps = function (dispatch) {\n  return bindActionCreators({\n    ...mapActions\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (SceneViewExample);\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// NOTE\n// This is a \"special\" react component that does not strictly play by\n// React's rules.\n//\n// Conceptually, this component creates a \"portal\" in React by\n// closing its render method off from updates (by simply rendering a div and\n// never accepting re-renders) then reconnecting itself to the React lifecycle\n// by listening for any new props (using componentWillReceiveProps)\n\n// React\nimport React, { Component, Fragment } from 'react';\n\n// Redux\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { actions as mapActions } from '../../../redux/reducers/map';\n\n// ESRI\nimport { loadModules } from 'esri-loader';\nimport { createView } from '../../../utils/esriHelper';\n\n// Styled Components\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  height: 100%;\n  width: 100%;\n`;\n\n// Variables\nconst containerID = \"map-view-container\";\n\nclass Map extends Component {\n\n  componentDidMount() {\n    this.startup(\n      this.props.mapConfig,\n      containerID,\n      this.props.is3DScene\n    );\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Tell React to never update this component, that's up to us\n    return false;\n  }\n\n  render() {\n    return (\n      <>\n      \n      <Container ref=\"mapDiv\" id={containerID}></Container>\n      \n      </>\n    );\n  }\n\n  // ESRI JSAPI\n  startup = (mapConfig, node, isScene = false) => {\n    createView(mapConfig, node, isScene).then(\n      response => {\n        this.init(response);\n        this.setupEventHandlers(this.map);\n        this.setupWidgetsAndLayers();\n        this.finishedLoading();\n      },\n      error => {\n        console.error(\"maperr\", error);\n        window.setTimeout( () => {\n          this.startup(mapConfig, node);\n        }, 1000);\n      })\n  }\n\n  finishedLoading = () => {\n    // Update app state only after map and widgets are loaded\n    this.props.onMapLoaded();\n  }\n\n  init = (response) => {\n    this.view = response.view\n    this.map = response.view.map;\n  }\n\n  setupWidgetsAndLayers = () => {\n    loadModules([\n        \"esri/widgets/BasemapGallery\",\n        \"esri/widgets/Search\",\n        \"esri/widgets/Expand\",\n        \"dojo/domReady!\"\n    ])\n    .then( ([\n        BasemapGallery,\n        Search,\n        Expand\n    ]) => {\n\n      const basemapGallery = new BasemapGallery({\n        view: this.view,\n       \n      });\n     \n      var searchWidget = new Search({\n          view: this.view,\n         container : document.createElement(\"div\")\n      })\n   \n\n      // Add the widget to the top-right corner of the view\n      // this.view.ui.add(basemapGallery, {\n      //   position: \"top-right\"\n      // });\n\n      let searchExpand= new Expand({\n        view : this.view,\n        content : searchWidget.domNode,\n        container : \"expandDiv\",\n        expandIconClass : \"esri-icon-basemap\"\n      })\n\n      // this.view.ui.add(searchWidget, {\n      //   position: \"top-left\"\n      // });\n      //\n      // JSAPI Map Widgets and Layers get loaded here!\n      //\n\n    });\n  }\n\n  setupEventHandlers = (map) => {\n    loadModules([\n\n    ], (\n\n    ) => {\n\n      //\n      // JSAPI Map Event Handlers go here!\n      //\n\n    });\n  }\n}\n\nconst mapStateToProps = state => ({\n  config: state.config,\n  map: state.map\n});\n\nconst mapDispatchToProps = function (dispatch) {\n  return bindActionCreators({\n    ...mapActions\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (Map);\n","import React, { Component, useRef } from 'react'\r\nimport M from 'materialize-css'\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\n\r\n\r\nexport default class Search extends Component {\r\n  \r\n  constructor(props){\r\n    super(props);\r\n    this.inputRef=React.createRef()\r\n  }\r\n\r\n  handleSearch(e){\r\n    console.log('this' )\r\n  }\r\n    render() {\r\n        return (\r\n            <section id=\"search\" className=\"section section-search white darken-1 white-text center scrollspy\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col s12\">\r\n                <div onClick={this.handleSearch} ref={this.inputRef} id=\"expandDiv\"></div>\r\n\r\n                  {/* <div class=\"input-field\">\r\n                  <i  class=\"material-icons black-text\">menu <input type=\"text\" class=\"white grey-text\" placeholder=\"Search Here\"/></i>                \r\n                  </div> */}\r\n                  \r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        )\r\n    }\r\n}\r\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n/**\n * This is an example component used to showcase authentication\n * @type {Class}\n */\n\n// React\nimport React, { Component } from 'react';\n\n// Components\nimport TopNavActionsList from 'calcite-react/TopNav/TopNavActionsList';\nimport ArcgisAccount from 'calcite-react/ArcgisAccount';\nimport ArcgisAccountMenuItem from 'calcite-react/ArcgisAccount/ArcgisAccountMenuItem';\nimport Button from 'calcite-react/Button';\n\n// Class\nclass UserAccount extends Component {\n  render() {\n    const signedInActionsComponent = this.props.user ? (\n      <TopNavActionsList style={{ padding: 0 }}>\n        <ArcgisAccount\n          user={this.props.user}\n          portal={this.props.portal}\n          onRequestSwitchAccount={() => console.log('switch account clicked')}\n          onRequestSignOut={this.props.signOut}\n        >\n          <ArcgisAccountMenuItem\n            onClick={() => console.log('Profile & Settings clicked')}\n          >\n            Profile & Settings\n          </ArcgisAccountMenuItem>\n          <ArcgisAccountMenuItem onClick={() => console.log('My Esri clicked')}>\n            My Esri\n          </ArcgisAccountMenuItem>\n          <ArcgisAccountMenuItem onClick={() => console.log('Training clicked')}>\n            Training\n          </ArcgisAccountMenuItem>\n          <ArcgisAccountMenuItem\n            onClick={() => console.log('Community & Forums clicked')}\n          >\n            Community & Forums\n          </ArcgisAccountMenuItem>\n          <ArcgisAccountMenuItem\n            onClick={() => console.log('ArcGIS Online clicked')}\n          >\n            ArcGIS Online\n          </ArcgisAccountMenuItem>\n        </ArcgisAccount>\n      </TopNavActionsList>\n    ) : null;\n\n    const signedOutActionsComponent = (\n      <TopNavActionsList>\n        <Button\n          clear\n          onClick={this.props.signIn}\n        >\n          Sign In\n        </Button>\n      </TopNavActionsList>\n    );\n\n    let outputComponent = this.props.loggedIn ?\n      signedInActionsComponent :\n      signedOutActionsComponent;\n\n    return (\n      <div>{outputComponent}</div>\n    )\n  }\n}\n\nexport default UserAccount;\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// React\nimport React, { Component } from 'react';\n\n// Redux\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { actions as mapActions } from '../redux/reducers/map';\nimport { actions as authActions } from '../redux/reducers/auth';\n\n// Components\nimport TopNav from 'calcite-react/TopNav';\nimport TopNavBrand from 'calcite-react/TopNav/TopNavBrand';\nimport TopNavTitle from 'calcite-react/TopNav/TopNavTitle';\nimport TopNavList from 'calcite-react/TopNav/TopNavList';\nimport TopNavLink from 'calcite-react/TopNav/TopNavLink';\n\nimport SceneViewExample from './esri/map/SceneViewExample';\n\nimport Map from './esri/map/Map';\n\nimport LoadScreen from './LoadScreen';\nimport UserAccount from './UserAccount';\nimport logo from '../styles/images/Esri-React-Logo.svg';\n\n// Styled Components\nimport styled from 'styled-components';\n\n\nimport Dock  from 'react-dock'\nimport Search from '../components/esri/map/Search'\nimport './esri/map/map.css'\n\nconst Container = styled.div`\n\n`;\n\nconst MapWrapper = styled.div`\n \n`;\n\n\n// Class\nclass Main extends Component {\n \n  render() {\n    let dockStyle = {\n      minWidth: \"1rem\",\n      maxWidth: \"30rem\",\n      width: \"50px\",\n      height: \"100%\",\n      backgroundColor: \"white\",\n      zIndex :0\n    }\n        \n    return (\n      <>\n      \n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col s2\">\n              <Search/>       \n          </div>\n          <div className=\"col s10\">\n              <p>Search Results</p>\n              <ul>\n              </ul>\n          </div>\n        </div>\n       </div>\n\n        <Container className=\"container\">     \n              <MapWrapper id=\"mapWra\" className=\"mapWrapper\">\n                <Map id=\"mapID\"\n                  onMapLoaded={this.props.mapLoaded}\n                  mapConfig={this.props.config.mapConfig}\n                  is3DScene={false}\n                />\n            </MapWrapper>\n            </Container>\n\n           \n\n      \n\n      </>\n\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  map: state.map,\n  auth: state.auth,\n  config: state.config,\n})\n\nconst mapDispatchToProps = function (dispatch) {\n  return bindActionCreators({\n    ...mapActions,\n    ...authActions,\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main)\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// React\nimport React, { Component } from 'react';\n\n// Redux\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { actions as authActions } from '../redux/reducers/auth';\nimport { actions as configActions } from '../redux/reducers/config';\n\n// Components\nimport AuthManager from './esri/auth/AuthManager';\nimport LoadScreen from './LoadScreen';\nimport Main from './Main';\n\nclass App extends Component {\n\n  componentDidMount() {\n    // When the component mounts call to get the config file\n    this.props.fetchConfig();\n  }\n\n  componentDidUpdate(prevProps) {\n    // Check that the config was initially loaded and don't run this process again\n    if (this.props.config &&\n      this.props.config.loaded !== prevProps.config.loaded)\n    {\n      // Attach the AuthManager to the window, it doesn't need to be rendered\n      window.authManager = new AuthManager(\n        this.props.config.appId,\n        this.props.config.portalUrl,\n        this.props.config.jsapiUrl,\n        this.props.config.jsapiV4,\n        this.props.config.loginWithPopup\n      );\n      window.authManager.startup().then(this.props.checkAuth);\n    }\n  }\n\n  render() {\n    // We'll use these to determine what state the app is in\n    const configLoaded = this.props.config.loaded;\n    const authTried = this.props.auth.loaded;\n    // We don't need to authenticate if there is no portalUrl\n    const isAuthenticated = (this.props.auth.user && this.props.auth.user.username) || !this.props.config.portalUrl;\n\n    // App is initializing\n    if (!authTried || !isAuthenticated || !configLoaded) {\n      return (\n          <LoadScreen isLoaded={false}/>\n      )\n    }\n\n    // App is initialized and user is authenticated if needed\n    return <Main />\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  config: state.config\n})\n\nconst mapDispatchToProps = function (dispatch) {\n  return bindActionCreators({\n    ...configActions,\n    ...authActions\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\nimport { createGlobalStyle } from \"styled-components\";\n\n// Global page styling\n// override AGIS JS API Widgets here\nexport const GlobalStyle = createGlobalStyle`\n  html,\n  body {\n    height: 100%;\n    font-family: Avenir Next, sans-serif;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-weight: 300;\n    letter-spacing: 1px;\n    font-size: 16px;\n  }\n\n  .esri-layer-list__item{\n    &::before {\n      width: 100%;\n      left: 0;\n    }\n  }\n`;\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n// React //\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Redux //\nimport { Provider } from 'react-redux';\nimport { initStore } from './redux/store';\n\n// React Router //\nimport { BrowserRouter, Route } from 'react-router-dom';\n\n// Components //\nimport { homepage } from '../package.json';\nimport App from './components/App';\n\n// Styles //\nimport CalciteThemeProvider from 'calcite-react/CalciteThemeProvider';\nimport { GlobalStyle } from './styles/global';\nimport './styles/fonts.css';\n\n// App runs at the root locally, but under /{homepage} in production\nlet basename;\nprocess.env.NODE_ENV !== 'production' ? (basename = '') : (basename = homepage);\n\n// Create Redux Store\nexport const store = initStore();\n\n// App entry point\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter basename={basename}>\n      <CalciteThemeProvider>\n        <GlobalStyle />\n        <Route path='/' component={App} />\n      </CalciteThemeProvider>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n)\n","// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n/**\n * Configure and create the Redux here\n * includes Saga\n * @type {Object} This is the store object that Redux uses\n */\n\n// REDUX IMPORTS //\nimport { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from './sagas/index';\n\nimport * as reducers from './';\n\nexport function initStore() {\n  // Setup Redux dev tools\n  // NOTE - Redux Devtool issue - see https://github.com/zalmoxisus/redux-devtools-extension/issues/619\n  const composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  // Setup Redux store\n  const rootReducer = combineReducers(reducers);\n  const sagaMiddleware = createSagaMiddleware();\n\n  const store = createStore(\n    rootReducer,\n    composeEnhancer(applyMiddleware(sagaMiddleware))\n  );\n\n  // Run sagas\n  sagaMiddleware.run(rootSaga);\n\n  return store;\n}\n","module.exports = __webpack_public_path__ + \"static/media/Esri-React-Logo.6cc603f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/Topo-Abs-BG.052b93cf.svg\";"],"sourceRoot":""}